#%Module1.0

proc ModulesHelp { } {
    puts stderr "This module sets up NodeJS environment using bun"
}

module-whatis "Sets up NodeJS environment using bun"

# Set up environment variables for bun
set bunpath "$::env(HOME)/.bun"
prepend-path PATH "$bunpath/bin"
setenv BUN_INSTALL "$bunpath"

# Define aliases
set-alias "node" "bun"
set-alias "npm" "bun"
set-alias "npx" "bunx"
set-alias "js-install" "bun add"
set-alias "js-uninstall" "bun remove"
set-alias "js-run" "bun run"

# Help message
if { [ module-info mode load ] } {
    puts stdout "NodeJS environment with bun is now available."
    puts stdout "Use 'bun create' to create a new project."
    puts stdout "Use 'bun add <package>' to install packages."
    puts stdout "Use 'bun run <script>' to run scripts."
} 